kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = prod(diff(pop))<0) %>% filter(t) %>% arrange(country)
neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
colnames(neg_inc) = NULL
kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = prod(diff(pop))<0) %>% filter(t) %>% arrange(country)
neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
colnames(neg_inc) = NULL
kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T) %>%
kable_styling(latex_options = c("HOLD_position"))
knitr::opts_chunk$set(echo = F,warning = F)
pacman::p_load("tidyverse","knitr","kableExtra","gapminder","magrittr")
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop)) %>% filter() %>% arrange(country)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
unique(neg_inc)
unique(neg_inc$l)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop)) %>% filter(t<11) %>% arrange(country)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop)) %>% filter(t<11) %>% arrange(t)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(t)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n,decreasing = T)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
neg_inc
# neg_inc = cbind(neg_inc[1:5,],neg_inc[6:10,],neg_inc[11:15,],neg_inc[16:20,])
# colnames(neg_inc) = NULL
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
neg_inc
# kable(neg_inc[,c(1,3,5,7)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
#   kable_styling(latex_options = c("HOLD_position"))
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T) %>%
kable_styling(latex_options = c("HOLD_position"))
knitr::opts_chunk$set(echo = F,warning = F)
pacman::p_load("tidyverse","knitr","kableExtra","gapminder","magrittr")
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position")) %>% column_spec(c(2,4,6),width = 5)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T) %>%
kable_styling(latex_options = c("HOLD_position")) %>% column_spec(c(2,4,6),width = 5)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T) %>%
kable_styling(latex_options = c("HOLD_position")) %>% column_spec(c(2,4,6),width = 1)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T) %>%
kable_styling(latex_options = c("HOLD_position")) %>% column_spec(c(2,4,6),width = "10em")
View(da)
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_cap = sum(pop*gdpPercap)/tolPOP) %>% arrange(tol_GDP,continent)
GDP = cbind(GDP,as.matrix(te))
}
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_cap = sum(pop*gdpPercap)/sum(pop)) %>% arrange(tol_GDP,continent)
GDP = cbind(GDP,as.matrix(te))
}
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_cap = sum(pop*gdpPercap)/sum(pop)) %>% arrange(continent)
GDP = cbind(GDP,as.matrix(te))
}
# kable(GDP[,1:8], caption = "Total GDP for each continents 1952-1967", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1952"=2,"1957"=2,
#                                                                          "1962"=2,"1967"=2))
# kable(GDP[,9:16], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=2,"1977"=2,
#                                                                          "1982"=2,"1987"=2))
# kable(GDP[,17:24], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=2,"1997"=2,
#                                                                          "2002"=2,"2007"=2))
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_cap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
GDP = cbind(GDP,as.matrix(te))
}
# kable(GDP[,1:8], caption = "Total GDP for each continents 1952-1967", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1952"=2,"1957"=2,
#                                                                          "1962"=2,"1967"=2))
# kable(GDP[,9:16], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=2,"1977"=2,
#                                                                          "1982"=2,"1987"=2))
# kable(GDP[,17:24], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=2,"1997"=2,
#                                                                          "2002"=2,"2007"=2))
View(GDP)
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
GDP = cbind(GDP,as.matrix(te))
}
# kable(GDP[,1:8], caption = "Total GDP for each continents 1952-1967", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1952"=2,"1957"=2,
#                                                                          "1962"=2,"1967"=2))
# kable(GDP[,9:16], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=2,"1977"=2,
#                                                                          "1982"=2,"1987"=2))
# kable(GDP[,17:24], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=2,"1997"=2,
#                                                                          "2002"=2,"2007"=2))
View(GDP)
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
View(te)
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
head(test)
header(test)
head(test)
View(test)
filter(da,year==1972 & continent == "Asia")
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
View(GDP)
GDP = NULL
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
debugSource('D:/R-connect-Server/DataScience in R HW/TidyVerse/Debug File.R', echo=TRUE)
filter(da, year == 1972 & continent == "Asia")
a = filter(da, year == 1972 & continent == "Asia")
View(a)
sum(a$pop)
da %>% group_by(year,continent) %>% summarise(tol_POP = sum(pop),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
a = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
print(te)
GDP = NULL
for (i in unique(da$year)) {
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
GDP = cbind(GDP,as.matrix(te))
}
View(GDP)
te = da %>% filter(year == i) %>% group_by(continent) %>% summarise(tol_POP = sum(pop),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
# kable(GDP[,1:12], caption = "Total GDP for each continents 1952-1967", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1952"=3,"1957"=3,
#                                                                          "1962"=3,"1967"=3))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(te)
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
# kable(GDP[,1:12], caption = "Total GDP for each continents 1952-1967", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1952"=3,"1957"=3,
#                                                                          "1962"=3,"1967"=3))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(te)
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1, caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position"))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,c(1,3,4)],te[13:24,c(3,4)],te[25:36,c(3,4)])
ka2 = cbind(te[37:48,c(1,3,4)],te[49:60,c(3,4)])
kable(ka1, caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position"))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(ka1)
te[1:12,c(1,3,4)]
te[13:24,c(3,4)]
te[25:36,c(3,4)]
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,c(1,3,4)],te[13:24,c(3,4)],te[25:36,c(3,4)])
ka2 = cbind(te[37:48,c(1,3,4)],te[49:60,c(3,4)])
kable(ka1, caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position"))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1, caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position"))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position"))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(ka1)
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=,"Asia"=3))
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=2,"Asia"=2))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(te)
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
colnames(te)=c("","Continent","Total Population","GDP Per Capita")
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=2,"Asia"=2))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
colnames(te)=c("Year","Continent","Total Population","GDP Per Capita")
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=2,"Asia"=2))
# kable(GDP[,13:24], caption = "Total GDP for each continents 1972-1987", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1972"=3,"1977"=3,
#                                                                          "1982"=3,"1987"=3))
# kable(GDP[,25:36], caption = "Total GDP for each continents 1992-2007", align = "c", booktab =T, format = "latex",longtable = F) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("1992"=3,"1997"=3,
#                                                                          "2002"=3,"2007"=3))
View(ka2)
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
colnames(te)=c("Year","Continent","Total Population","GDP Per Capita")
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=2,"Asia"=2))
kable(ka2[,c(1,3,4,7,8)], caption = "Total Population and GDP per Capita", align = "c", booktab =T) %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Europe"=2,"Oceania"=2))
View(Summary_1952)
View(Summary_2007)
Summary=rbind(Summary_1952,Summary_2007)
View(Summary)
library(DSR)
library(tidyr)
table2
spread(table2,key = key, value = value)
pivot_wider(table2,names_from = type, values_from = count)
table4
gather(table4,"year","cases",2:3)
View(Summary)
Summary %<>% gather("Value",2:5)
Summary = gather(Summary,"Value",2:5)
View(Summary)
Summary %<>% pivot_longer(2:5,names_to = "value")
View(Summary)
Summary = pivot_longer(Summary,2:5,names_to = "value")
Summary = pivot_longer(Summary,cols=c(Ave_GDP_capita,Max_GDP_capita,Min_GDP_capita,var_GDP_capita),names_to = "value")
Summary = reshape2::melt(Summary)
View(Summary)
Summary=rbind(Summary_1952,Summary_2007)
View(Summary)
esquisse::esquisser(Summary_1952)
Summary_1952 = reshape2::melt(Summary_1952)
Summary_2007 = reshape2::melt(Summary_2007)
View(Summary_1952)
Summary_1952 = da %>% filter(year == 1952) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
kable(Summary_1952, caption = "Summary for GDP per Capita in 1952", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position"))
Summary_2007 = da %>% filter(year == 2007) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
View(Summary_1952)
Summary_1952 = reshape2::melt(Summary_1952)
Summary_2007 = reshape2::melt(Summary_2007)
esquisse::esquisser(Summary_1952)
plot(Summary_1952)
plot(reshape2::melt(Summary_1952[1,]))
plot(Summary_1952[1,])
plot(t(Summary_1952[1,]))
plot(t(as.matrix(Summary_1952[1,])))
Summary_1952[1,]
Summary_1952 = da %>% filter(year == 1952) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
plot(t(as.matrix(Summary_1952[1,])))
plot(t(as.matrix(Summary_1952[1,])),type = "l")
esquisse::esquisser(Summary_1952)
ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita") +
theme_ipsum_rc()
ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita") +
theme_ipsum_rc()
ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
ggplot(Summary_1952) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
ggplot(Summary_1952) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
ggplot(Summary_1952) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
ggplot(Summary_1952) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
a1=ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_1952) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_1952) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_1952) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
esquisse::esquisser(Summary_1952)
esquisse::esquisser(Summary_1952)
esquisse::esquisser(Summary_1952)
a1=ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_1952) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_1952) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_1952) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
a1=ggplot(Summary_) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a1=ggplot(Summary_2007) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_2007) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_2007) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_2007) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
View(Summary_2007)
Summary_2007 = da %>% filter(year == 2007) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
a1=ggplot(Summary_2007) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_2007) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_2007) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_2007) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
knitr::opts_chunk$set(echo = F,warning = F)
pacman::p_load("tidyverse","knitr","kableExtra","gapminder","magrittr")
da = gapminder
Num_of_continent = da$continent %>% unique %>% length
Num_of_contries = da$country %>% unique %>% length
con_per = da %>% group_by(continent) %>% summarise( Num_of_contries = country %>% unique %>% length) %>% arrange(Num_of_contries , continent)
kable(con_per, caption = "Number of countries included for each cintinents", align = "c", booktab =T, format = "latex",longtable = T) %>% kable_styling(latex_options = "hold_position")
te = da %>% group_by(year,continent) %>% summarise(tol_POP = sum(as.numeric(pop)),GDP_perCap = sum(pop*gdpPercap)/tol_POP) %>% arrange(continent)
colnames(te)=c("Year","Continent","Total Population","GDP Per Capita")
ka1 = cbind(te[1:12,],te[13:24,],te[25:36,])
ka2 = cbind(te[37:48,],te[49:60,])
kable(ka1[,c(1,3,4,7,8,11,12)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,format = "latex") %>% kable_styling(latex_options = c("HOLD_position","scale_down")) %>% add_header_above(c("Year"=1,"Africa"=2,"American"=2,"Asia"=2))
kable(ka2[,c(1,3,4,7,8)], caption = "Total Population and GDP per Capita", align = "c", booktab =T,format = "latex") %>% kable_styling(latex_options = c("HOLD_position")) %>% add_header_above(c("Year"=1,"Europe"=2,"Oceania"=2))
Summary_1952 = da %>% filter(year == 1952) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
kable(Summary_1952, caption = "Summary for GDP per Capita in 1952", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position"))
Summary_2007 = da %>% filter(year == 2007) %>% group_by(continent) %>% summarise(Ave_GDP_Capita = mean(gdpPercap),
Max_GDP_Capita = max(gdpPercap),
Min_GDP_Capita = min(gdpPercap),
var_GDP_Capita = var(gdpPercap)) %>% arrange(Ave_GDP_Capita)
kable(Summary_2007, caption = "Summary for GDP per Capita in 2007", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position","scale_down"))
a1=ggplot(Summary_1952) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_1952) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_1952) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_1952) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
a1=ggplot(Summary_2007) +
aes(x = continent, weight = Ave_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Ave_GDP_Capita")
a2=ggplot(Summary_2007) +
aes(x = continent, weight = Max_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Max_GDP_Capita")
a3=ggplot(Summary_2007) +
aes(x = continent, weight = Min_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Min_GDP_Capita")
a4=ggplot(Summary_2007) +
aes(x = continent, weight = var_GDP_Capita) +
geom_bar(fill = "#0c4c8a") +
labs(y = "Variance_GDP_Capita")
gridExtra::grid.arrange(a1,a2,a3,a4,ncol=2)
neg_inc =  da %>% group_by(country) %>% summarise(t = sum(diff(pop)>0), l = length(pop), n = 11-t) %>% filter(t<11) %>% arrange(n)
colnames(neg_inc) = c("Country","","","# of year of negative pop growth")
neg_inc = cbind(neg_inc[1:9,],neg_inc[10:18,],neg_inc[19:27,])
kable(neg_inc[,c(1,4,5,8,9,12)], caption = "Countries had periods of negative population growth", align = "c", booktab =T, format = "latex") %>%
kable_styling(latex_options = c("HOLD_position")) %>% column_spec(c(1,2,3,4,5,6),width = "7em")
View(da)
da$'Log_gdpC' = log(da$gdpPercap)
View(da)
tt = da %>% group_by(country) %>% summarise(Max_GR = max(diff(Log_gdpC)))
View(tt)
order(tt,decreasing = T)
order(tt,decreasing = TRUE)
tt = da %>% group_by(country) %>% summarise(Max_GR = max(diff(Log_gdpC))) %>% arrange(Max_GR)
tt = da %>% group_by(country) %>% summarise(Max_GR = max(diff(Log_gdpC))) %>% arrange(desc(Max_GR))
da$'Log_gdpC' = log(da$gdpPercap)
tt = da %>% group_by(country) %>% summarise(Max_GR = max(diff(Log_gdpC))) %>% arrange(desc(Max_GR))
print(tt[1,])
da$'Log_gdpC' = log(da$gdpPercap)
tt = da %>% group_by(country) %>% summarise(Max_GR = max(diff(Log_gdpC))) %>% arrange(desc(Max_GR))
kable(tt[1,])
