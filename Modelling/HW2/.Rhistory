library(VIM)
library(funModeling)
data_integrity(nes5200_dt)
nes5200<-read.dta("http://www.stat.columbia.edu/~gelman/arm/examples/nes/nes5200_processed_voters_realideo.dta")
#saveRDS(nes5200,"nes5200.rds")
#nes5200<-readRDS("nes5200.rds")
nes5200_dt <- data.table(nes5200)
yr <- 1992
nes5200_dt_s<-nes5200_dt[ year==yr & presvote %in% c("1. democrat","2. republican")& !is.na(income)]
nes5200_dt_s<-nes5200_dt_s[,vote_rep:=1*(presvote=="2. republican")]
nes5200_dt_s$income <- droplevels(nes5200_dt_s$income)
droplevels(nes5200_dt_s$income)
View(nes5200_dt_s)
head(nes5200_dt_s$income)
head(nes5200_dt$income)
View(nes5200_dt_s)
info=NULL
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
info=NULL
for(i in 1:length(names(data.frame(nes5200_dt_s)))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
names(data.frame(nes5200_dt_s)))
names(data.frame(nes5200_dt_s))
length(names(data.frame(nes5200_dt_s)))
info=NULL
for(i in 1:length(names(data.frame(nes5200_dt_s)))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
View(info)
rownames(info)=c('Number of Unique Value','Number of Missing Value','Number of 0','% of Missing Value')
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(heights)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
View(info)
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = arrange(info)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = order(info[3,])
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,])]
View(info)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
View(info)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table","kableExtra")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[59:63],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table","kableExtra")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
nes5200<-read.dta("http://www.stat.columbia.edu/~gelman/arm/examples/nes/nes5200_processed_voters_realideo.dta")
#saveRDS(nes5200,"nes5200.rds")
#nes5200<-readRDS("nes5200.rds")
nes5200_dt <- data.table(nes5200)
yr <- 1992
nes5200_dt_s<-nes5200_dt[ year==yr & presvote %in% c("1. democrat","2. republican")& !is.na(income)]
nes5200_dt_s<-nes5200_dt_s[,vote_rep:=1*(presvote=="2. republican")]
nes5200_dt_s$income <- droplevels(nes5200_dt_s$income)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[59:63],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table","kableExtra")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
nes5200<-read.dta("http://www.stat.columbia.edu/~gelman/arm/examples/nes/nes5200_processed_voters_realideo.dta")
#saveRDS(nes5200,"nes5200.rds")
#nes5200<-readRDS("nes5200.rds")
nes5200_dt <- data.table(nes5200)
yr <- 1992
nes5200_dt_s<-nes5200_dt[ year==yr & presvote %in% c("1. democrat","2. republican")& !is.na(income)]
nes5200_dt_s<-nes5200_dt_s[,vote_rep:=1*(presvote=="2. republican")]
nes5200_dt_s$income <- droplevels(nes5200_dt_s$income)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[59:63],caption = "Missing Value Analysis",align = "c",digits = 2,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Missing Value Analysis",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[,59:63],caption = "Missing Value Analysis",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
setwd("D:/R-connect-Server/Modelling Homework/HW2")
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Most Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[,59:63],caption = "Least Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
info = info[,order(info[1,],decreasing = T)]
kable(info[,1:5],caption = "Most Unique Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
da= nes5200_dt_s
delete = which(apply(da,2,function(x){unique%>%length}))
da= nes5200_dt_s
delete = which(apply(da,2,function(x){unique%>%length})==1)
da[,-1*delete]
da= nes5200_dt_s
delete = which(apply(da,2,function(x){unique%>%length})==1)
da = da[,-1*delete]
apply(da,2,function(x){unique%>%length})
da= nes5200_dt_s
# delete = which(apply(da,2,function(x){unique%>%length})==1)
# da = da[,-1*delete]
apply(da,2,function(x){x%>%unique%>%length})==1
da= nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da= hi.omit(nes5200_dt_s)
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table","kableExtra","data.table")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
da= hi.omit(nes5200_dt_s)
da= na.omit(nes5200_dt_s)
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da= na.omit(nes5200_dt_s)
# delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
# da = da[,-1*delete]
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Most Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[,59:63],caption = "Least Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
info = info[,order(info[1,])]
kable(info[,1:5],caption = "Least Unique Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
da= na.omit(nes5200_dt_s)
# delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
# da = da[,-1*delete]
View(nes5200_dt_s)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da= na.omit(da)
View(da)
View(info)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
knitr::opts_chunk$set(echo = FALSE,dev="CairoPNG",fig.align = "center",
fig.width = 5.656, fig.height = 4, global.par = TRUE)
#install.packages("pacman",repos="https://cloud.r-project.org")
pacman::p_load("tidyverse","knitr","arm","foreign","car","Cairo","data.table","kableExtra","data.table")
par (mar=c(3,3,2,1), mgp=c(2,.7,0), tck=-.01)
nes5200<-read.dta("http://www.stat.columbia.edu/~gelman/arm/examples/nes/nes5200_processed_voters_realideo.dta")
#saveRDS(nes5200,"nes5200.rds")
#nes5200<-readRDS("nes5200.rds")
nes5200_dt <- data.table(nes5200)
yr <- 1992
nes5200_dt_s<-nes5200_dt[ year==yr & presvote %in% c("1. democrat","2. republican")& !is.na(income)]
nes5200_dt_s<-nes5200_dt_s[,vote_rep:=1*(presvote=="2. republican")]
nes5200_dt_s$income <- droplevels(nes5200_dt_s$income)
info=NULL
nes5200_dt_s=data.frame(nes5200_dt_s)
for(i in 1:length(names(nes5200_dt_s))){
num_of_uniquevalue=length(unique(nes5200_dt_s[,i]))
Na = sum(is.na(nes5200_dt_s[,i]))
P_na = (Na)/length(nes5200_dt_s[,i])
info = cbind(info,matrix(c(num_of_uniquevalue,Na,P_na),ncol = 1))
}
rownames(info)=c('Number of Unique Value','Number of Missing Value','% of Missing Value')
colnames(info)=names(nes5200_dt_s)
info = info[,order(info[3,],decreasing = T)]
kable(info[,1:5],caption = "Most Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
kable(info[,59:63],caption = "Least Missing Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
info = info[,order(info[1,])]
kable(info[,1:5],caption = "Least Unique Value Variables",align = "c",digits = 3,
format = 'latex',booktabs=T,longtable=T) %>%
kable_styling(font_size = 8,bootstrap_options =
c('striped','hover','condensed',"responsive"))
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*c(delete,'icpsr_cty','regis','perﬁn2')]
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*c(delete,'icpsr_cty','regis','perﬁn2')]
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da =select(da,-icpsr_cty,-regis,-perﬁn2)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da =select(da,-icpsr_cty,-regis,-perfin2)
info = info[,order(info[3,],decreasing = T)]
View(info)
info = info[,order(info[1,])]
View(info)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
data_integrity(da)
separate(da,gender,c('gender','gender lable'))
separate(da,gender,c('gender','gender lable'),sep = '. ')
separate(da,gender,c('gender','gender lable'),sep = '.')
separate(da,gender,c('gender','gender lable'),sep = '. ')
da$gender +1
da$gender = as.integer(da$gender)
separate(da,gender,c('gender','gender_lable'),sep = '. ')
separate(da,gender,c('gender','gender lable'),sep = '. ')
separate(da,gender,c('gender','gender lable'),sep = '\. ')
separate(da,gender,c('gender','gender lable'),sep = '\.')
separate(da,gender,c('gender','gender lable'),sep = '.\ \')
separate(da,gender,c('gender','gender lable'),sep = '.\ ')
separate(da,gender,c('gender'),sep = '.\ ')
separate(da,gender,c('gender'),sep = '.\ ',convert = T)
separate(da,gender,c('gender'),sep = '.\ ',convert = T)
separate(da,race,c('gender'),sep = '.\ ',convert = T)
View(da)
separate(da,gender,convert = T)
separate(da,gender,c('gender'),convert = T)
separate(da,race,c('gender'),sep = '.\ ',convert = T)
separate(da,gender,c('gender'),convert = T)
separate(da,race,c('race'),convert = T)
separate(da,c(gender,race),into = c(c('gender'),c('race')),convert = T)
separate(da,gender,c('gender'),convert = T)
separate(da,race,c('race'),convert = T)
separate(da,educ1,c('r_education'),convert = T)
separate(da,urban,c('urban'),convert = T)
separate(da,region,c('region'),convert = T)
separate(da,income,c('income_level'),convert = T)
separate(da,occup1,c('r_occup'),convert = T)
separate(da,religion,c('religion'),convert = T)
separate(da,educ2,c('f_educ'),convert = T)
separate(da,educ3,c('m_educ'),convert = T)
separate(da,martial_status,c('martial'),convert = T)
separate(da,partyid7,c('par_id_7'),convert = T)
separate(da,partyid3_b,c('par_id_3'),convert = T)
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
da = separate(da,educ1,c('r_education'),convert = T)
da = separate(da,urban,c('urban'),convert = T)
da = separate(da,region,c('region'),convert = T)
da = separate(da,income,c('income_level'),convert = T)
da = separate(da,occup1,c('r_occup'),convert = T)
da = separate(da,religion,c('religion'),convert = T)
da = separate(da,educ2,c('f_educ'),convert = T)
da = separate(da,educ3,c('m_educ'),convert = T)
da = separate(da,martial_status,c('martial'),convert = T)
da = separate(da,partyid7,c('par_id_7'),convert = T)
da = separate(da,partyid3_b,c('par_id_3'),convert = T)
da = separate(da,gender,c('gender'),convert = T)
# da = separate(da,race,c('race'),convert = T)
# da = separate(da,educ1,c('r_education'),convert = T)
# da = separate(da,urban,c('urban'),convert = T)
# da = separate(da,region,c('region'),convert = T)
# da = separate(da,income,c('income_level'),convert = T)
# da = separate(da,occup1,c('r_occup'),convert = T)
# da = separate(da,religion,c('religion'),convert = T)
# da = separate(da,educ2,c('f_educ'),convert = T)
# da = separate(da,educ3,c('m_educ'),convert = T)
# da = separate(da,martial_status,c('martial'),convert = T)
# da = separate(da,partyid7,c('par_id_7'),convert = T)
# da = separate(da,partyid3_b,c('par_id_3'),convert = T)
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
# da = separate(da,educ1,c('r_education'),convert = T)
# da = separate(da,urban,c('urban'),convert = T)
# da = separate(da,region,c('region'),convert = T)
# da = separate(da,income,c('income_level'),convert = T)
# da = separate(da,occup1,c('r_occup'),convert = T)
# da = separate(da,religion,c('religion'),convert = T)
# da = separate(da,educ2,c('f_educ'),convert = T)
# da = separate(da,educ3,c('m_educ'),convert = T)
# da = separate(da,martial_status,c('martial'),convert = T)
# da = separate(da,partyid7,c('par_id_7'),convert = T)
# da = separate(da,partyid3_b,c('par_id_3'),convert = T)
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
da = separate(da,educ1,c('r_education'),convert = T)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
da = separate(da,educ1,c('r_education'),convert = T)
da = separate(da,urban,c('urban'),convert = T)
da = separate(da,region,c('region'),convert = T)
da = separate(da,income,c('income_level'),convert = T)
# da = separate(da,occup1,c('r_occup'),convert = T)
# da = separate(da,religion,c('religion'),convert = T)
# da = separate(da,educ2,c('f_educ'),convert = T)
# da = separate(da,educ3,c('m_educ'),convert = T)
# da = separate(da,martial_status,c('martial'),convert = T)
# da = separate(da,partyid7,c('par_id_7'),convert = T)
# da = separate(da,partyid3_b,c('par_id_3'),convert = T)
View(da)
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
da = separate(da,educ1,c('r_education'),convert = T)
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da = nes5200_dt_s
delete = which(apply(da,2,function(x){x%>%unique%>%length})==1)
da = da[,-1*delete]
da = separate(da,gender,c('gender'),convert = T)
da = separate(da,race,c('race'),convert = T)
da = separate(da,educ1,c('r_education'),convert = T)
da = separate(da,urban,c('urban'),convert = T)
da = separate(da,region,c('region'),convert = T)
da = separate(da,income,c('income_level'),convert = T)
da = separate(da,occup1,c('r_occup'),convert = T)
da = separate(da,religion,c('religion'),convert = T)
da = separate(da,educ2,c('f_educ'),convert = T)
da = separate(da,educ3,c('m_educ'),convert = T)
da = separate(da,martial_status,c('martial'),convert = T)
da = separate(da,partyid7,c('par_id_7'),convert = T)
da = separate(da,partyid3_b,c('par_id_3'),convert = T)
View(da)
